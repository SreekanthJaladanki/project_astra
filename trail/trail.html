<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Daily Updates</title>
    <link rel="stylesheet" href="./css/updates.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
   <style>
body {
    /* height: 100vh; */
    margin: 20px;
    box-sizing: border-box;
    align-content: center;
    background: linear-gradient(to right bottom, #78A7DD, #9662BB);
}

.container {
    background-color: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    max-width: 85%;
    margin: 0 auto;
    height: 550px;
    /* border: 1px solid red; */
   
}

.row {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 20px;
    margin-top: 60px;
    margin-left: 73px;
}

.row label {
    color: #9662BB;
    margin-right: 10px;
    font-size: 18px;
    font-family: "Poppins", sans-serif;
    font-weight: 700;
    font-style: normal;
}

.row select,
.additional-tasks select {
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #ccc;
    width: 159px;
    font-size: 15px;
    font-family: "Poppins", sans-serif;
    font-weight: 400;
    font-style: normal;
    color: #9662BB;
    outline: none;
}

.row select:focus {
    outline: none;
    box-shadow: 0 0 5px rgba(128, 0, 128, 0.5);
}

.additional-tasks {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-top: 20px;
    margin-left: 30px;
}

.task-pair {
    display: flex;
    flex-direction: column;
}

.hidden {
    display: none;
}

#addedTasks {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    column-gap: 10px;
    /* border: 2px+ solid rgb(55, 255, 0); */
    height:300px;
    overflow-y: scroll;
}
/* #addedTasks::-webkit-scrollbar{
    display: none;
} */
#addedTasks .task-row {
    display: flex;
    gap: 20px;
    align-items: center;
    margin-left: 196px;
}

.row #selectDate {
    color: #9662BB;
}

.row #selectDate:focus {
    outline: none;
    box-shadow: 0 0 5px rgba(128, 0, 128, 0.5);
}

#addedTasks .task-row select {
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #ccc;
    width: 151px;
    font-size: 15px;
    margin-top: 15px;
    margin-left: 7px;
    font-family: "Poppins", sans-serif;
    font-weight: 400;
    font-style: normal;
    color: #9662BB;
}

#addedTasks .task-row select:focus {
    outline: none;
    box-shadow: 0 0 5px rgba(128, 0, 128, 0.5);
}

.input-1 {
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #ccc;
    width: 138px;
    font-size: 15px;
    margin-top: 15px;
    margin-left: 279px;
    font-family: "Poppins", sans-serif;
    font-weight: 400;
    font-style: normal;
    color: #9662BB;
}

::placeholder {
    color: #9d5dd2d8;
    font-family: "Poppins", sans-serif;
    font-weight: 400;
    font-style: normal;
}

.input-1:focus {
    outline: none;
    box-shadow: 0 0 5px rgba(128, 0, 128, 0.5);
}

.remove-task {
    cursor: pointer;
    font-size: 10px;
    color: red;
    margin-top: 10px;
    margin-left: -9px;
}

.remove-task:hover {
    transform: scale(1.2);
}

.input-2 {
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #ccc;
    width: 138px;
    font-size: 15px;
    margin-top: 15px;
    margin-left: 73px;
    font-family: "Poppins", sans-serif;
    font-weight: 400;
    font-style: normal;
    color: #9662BB;
}

.input-2:focus {
    outline: none;
    box-shadow: 0 0 5px rgba(128, 0, 128, 0.5);
}

button {
    background: linear-gradient(to right bottom, #78A7DD, #9662BB);
    height: 35px;
    width: 100px;
    border: none;
    border-radius: 10px;
    color: white;
    font-size: 0.9rem;
    font-weight: 700;
    font-style: normal;
}

.container h1 {
    margin-left: 428px;
    font-family: "Poppins", sans-serif;
    font-weight: 700;
    font-style: normal;
    color: #9662BB;
}

#submitbutn {
    height: 40px;
    width: 110px;
   
    border-radius: 10px;
    font-size: 0.9rem;
    font-weight: bold;
    color: white;
    margin-top: 20px;
    margin-left: 30rem;
}

#datelabel {
    width: 110px;
}

#preloader {
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 9999;
    background-color: rgba(255, 255, 255,0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    opacity: 1;
}

#preloader img {
    width: 100px;
    border-radius: 50%;
    margin-top: -30px;
    margin-left: -100px;
}

#preloader p {
    margin-top: 20px;
    font-family: "Poppins", sans-serif;
    font-size: 1.2rem;
    color: #9662BB;
    font-weight: bold;
    margin-left: -100px;
}

#preloader.submit-loader img {
    content: url('../assests/Hourglass.gif');
}

#preloader.refresh-loader img {
    content: url('../assests/preloader1.gif');
}








   </style> 
</head>

<body>

    <div id="preloader" class="refresh-loader">
        <img src="./assests/preloader1.gif" alt="Loading...">
        <p>Loading, please wait...</p>
    </div>

    <div class="container">
        <h1>Daily Updates</h1>
        <div class="row">
            <label for="selectDate" id="datelabel">Select Date:</label>
            <input type="date" id="selectDate" name="selectDate" required>
            <label for="employee">Employee:</label>
            <select id="employee" required>
                <option value="0">Select Employee</option>
                <option value="Trainer">Trainer</option>
                <option value="Trainee">Trainee</option>
            </select>
            <label for="task">Task:</label>
            <select id="task" required>
                <option value="0">Select Task</option>
                <option value="Taking Mock">Taking Mock</option>
                <option value="Taking batches">Taking batches</option>
                <option value="PD sessions">PD sessions</option>
                <option value="Follow-up">Follow-up</option>
                <option value="Doubt session">Doubt session</option>
                <option value="Mentoring">Mentoring</option>
                <option value="EOD report">EOD report</option>
                <option value="Follow-up with prospective students">Follow-up with prospective students</option>
                <option value="Analysis">Analysis</option>
                <option value="Conduction">Conduction</option>
                <option value="Onlineclass">Onlineclass</option>
                <option value="Content creation">Content creation</option>
                <option value="Counseling">Counseling</option>
                <option value="Incubation">Incubation</option>
                <option value="Assessment">Assessment</option>
                <option value="Others">Others</option>
            </select>
            <button onclick="addTask()">Add Task</button>
        </div>
        <div id="addedTasks"></div>
        <button onclick="submitForm(event)" id="submitbutn">Submit Form</button>
    </div>
    <div id="errorMessage" style="color: red; display: none;">Please fill in all fields.</div>

    <script>
     
    window.addEventListener('load', function () {
        const preloader = document.getElementById('preloader');
        setTimeout(function () {
            preloader.style.display = 'none';
        }, 1000); // Display preloader for 1 second
    });

    function addTask() {
        const employeeSelect = document.getElementById("employee");
        const taskSelect = document.getElementById("task");
        const selectedEmployee = employeeSelect.value;
        const selectedTask = taskSelect.value;

        const addedTasksContainer = document.getElementById("addedTasks");
        const taskRow = document.createElement("div");
        taskRow.classList.add("task-row");

        const employeeInput = document.createElement("input");
        employeeInput.type = "text";
        employeeInput.classList.add("input-1")
        employeeInput.value = selectedEmployee;
        employeeInput.readOnly = true;
        taskRow.appendChild(employeeInput);

        const taskInput = document.createElement("input");
        taskInput.type = "text";
        taskInput.classList.add("input-2");
        taskInput.value = selectedTask;
        taskInput.readOnly = true;
        taskRow.appendChild(taskInput);

        if (selectedTask === "Taking batches") {
            const batchesSelect = document.createElement("select");
            batchesSelect.name = "batches";
            batchesSelect.classList.add("batches-select");
            const optionValues = ["Select Batches", 1, 2, 3, 4, 5];
            optionValues.forEach((value) => {
                const option = document.createElement("option");
                option.value = value;
                option.textContent = value;
                batchesSelect.appendChild(option);
            });
            taskRow.appendChild(batchesSelect);
        }

        const removeButton = document.createElement("span");
        removeButton.classList.add("remove-task");
        removeButton.innerHTML = "&#10060;";
        removeButton.onclick = function () {
            taskRow.remove();
        };
        taskRow.appendChild(removeButton);

        addedTasksContainer.appendChild(taskRow);
    }

    function submitForm(event) {
        const selectDate = document.getElementById("selectDate");
        const employee = document.getElementById("employee");
        const task = document.getElementById("task");

        const addedTasksContainer = document.getElementById("addedTasks");
        const taskRows = addedTasksContainer.getElementsByClassName("task-row");
        let tasks = "";

        for (let i = 0; i < taskRows.length; i++) {
            const row = taskRows[i];
            const task = row.children[1].value;
            const batches = task === "Onlineclass" ? row.children[2].value : null;
            tasks = (row.children[2].value);
        }

        if (!selectDate.value || employee.value == 0 || !employee.value || !task.value || task.value == 0 || tasks == "--Select Batches--") {
            alert("Please fill in all fields.");
            event.preventDefault(); // Prevent form submission if fields are missing
        } else {
            const preloader = document.getElementById('preloader');
            preloader.classList.remove('refresh-loader');
            preloader.classList.add('submit-loader');
            preloader.style.display = 'flex';
            setTimeout(() => {
                preloader.style.display = 'none';
                // alert("Form submitted successfully!");
                window.location.href = 'Thankyou.html'; // Redirect to thank you page
            }, 1000); // Display preloader for 1 second
        }
    }


    </script>
</body>

</html>
